(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t){e.exports={API_URL:"https://morning-springs-13337.herokuapp.com/"}},202:function(e,t,n){},204:function(e,t,n){},206:function(e,t,n){},208:function(e,t,n){},210:function(e,t,n){},212:function(e,t,n){},214:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(77),c=n.n(r),l=n(20),i=n(21),s=n(219),d=(n(86),n(88),n(39)),u=n(4),m=n(5),f=n(7),h=n(6),p=n(8),v=n(217),N=n(97),b=n(10),E=n(218),j=n(80),y=n(28);n(92);function O(e){e.tag,e.className,e.childrenm;var t=Object(y.a)(e,["tag","className","childrenm"]);return o.a.createElement(e.tag,Object(j.a)({className:["NavCircleButton",e.className].join(" ")},t),e.children)}O.defaultProps={tag:"a"};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return e.id===t})},g=o.a.createContext({notes:[],folders:[],addFolder:function(){},addNote:function(){},deleteNote:function(){}}),k=(n(94),function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.context,t=e.folders,n=void 0===t?[]:t,a=e.notes,r=void 0===a?[]:a;return o.a.createElement("div",{className:"NoteListNav"},o.a.createElement("ul",{className:"NoteListNav__list"},n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(E.a,{className:"NoteListNav__folder-link",to:"/folder/".concat(e.id)},o.a.createElement("span",{className:"NoteListNav__num-notes"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter(function(e){return e.folder_id===t}).length}(r,e.id)),e.folder_name))})),o.a.createElement("div",{className:"NoteListNav__button-wrapper"},o.a.createElement(O,{tag:N.a,to:"/add-folder",type:"button",className:"NoteListNav__add-folder-button"},o.a.createElement(b.a,{icon:"plus"}),o.a.createElement("br",null),"Folder")))}}]),t}(o.a.Component));k.contextType=g,k.defaultProps={folders:[]};n(98);var x=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.context,n=t.notes,a=t.folders,r=this.props.match.params.noteId,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return e.id===t})}(a,(_(n,Number(r))||{}).folder_id);return o.a.createElement("div",{className:"NotePageNav"},o.a.createElement(O,{tag:"button",role:"link",onClick:function(){return e.props.history.goBack()},className:"NotePageNav__back-button"},o.a.createElement(b.a,{icon:"chevron-left"}),o.a.createElement("br",null),"Back"),c&&o.a.createElement("h3",{className:"NotePageNav__folder-name"},c.folder_name))}}]),t}(o.a.Component);x.defaultProps={history:{goBack:function(){}},match:{params:{}}},x.contextType=g,x.defaultProps={history:{goBack:function(){}}};var A=n(79),P=(n(202),function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.context.deleteNote;return o.a.createElement("div",{className:"Note"},o.a.createElement("h2",{className:"Note__title"},o.a.createElement(N.a,{to:"/note/".concat(this.props.id)},this.props.name)),o.a.createElement("button",{className:"Note__delete",type:"button",onClick:function(){e.props.history.push("/"),t(e.props.id)}},o.a.createElement(b.a,{icon:"trash-alt"})," remove"),o.a.createElement("div",{className:"Note__dates"},o.a.createElement("div",{className:"Note__dates-modified"},"Modified"," ",o.a.createElement("span",{className:"Date"},Object(A.format)(this.props.modified,"Do MMM YYYY")))))}}]),t}(o.a.Component));P.contextType=g;n(204);var L=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.folderId,n=this.context.notes,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(function(e){return e.folder_id===Number(t)}):e}(void 0===n?[]:n,t);return o.a.createElement("section",{className:"NoteListMain"},o.a.createElement("ul",null,a.map(function(t){return o.a.createElement("li",{key:t.id},o.a.createElement(P,Object.assign({id:t.id,name:t.note_name,modified:t.modified},e.props)))})),o.a.createElement("div",{className:"NoteListMain__button-container"},o.a.createElement(O,{tag:N.a,to:"/add-note",type:"button",className:"NoteListMain__add-note-button"},o.a.createElement(b.a,{icon:"plus"}),o.a.createElement("br",null),"Note")))}}]),t}(o.a.Component);L.contextType=g;n(206);var I=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.context.notes,t=this.props.match.params.noteId,n=_(e,Number(t));return console.log(n),o.a.createElement("section",{className:"NotePageMain"},o.a.createElement(P,Object.assign({id:n.id,name:n.note_name,modified:n.modified,onDeleteNote:this.handleDeleteNote},this.props)),o.a.createElement("div",{className:"NotePageMain__content"},n.content.split(/\n \r|\n/).map(function(e,t){return o.a.createElement("p",{key:t},e)})))}}]),t}(o.a.Component);I.contextType=g;n(208);function C(e){var t=e.className,n=Object(y.a)(e,["className"]);return o.a.createElement("form",Object.assign({className:["Noteful-form",t].join(" "),action:"#"},n))}var S=n(15),F=n.n(S),M=(n(210),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(e){e.preventDefault();var t={folder_name:e.target["folder-name"].value};fetch("".concat(F.a.API_URL,"folders"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){n.context.addFolder(e),n.props.history.push("/")}).catch(function(e){console.error({error:e})})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"AddFolder"},o.a.createElement("h2",null,"Create a folder"),o.a.createElement(C,{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"folder-name-input"},"Name"),o.a.createElement("input",{type:"text",id:"folder-name-input",name:"folder-name"})),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{type:"submit"},"Add folder"))))}}]),t}(a.Component));M.defaultProps={history:{push:function(){}}},M.contextType=g;n(212);var w=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleSubmit=function(e){e.preventDefault();var t={note_name:e.target["note-name"].value,content:e.target["note-content"].value,folder_id:e.target["note-folder-id"].value};fetch("".concat(F.a.API_URL,"notes"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){n.context.addNote(e),n.props.history.push("/")}).catch(function(e){console.error({error:e})})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.context.folders;return o.a.createElement("section",{className:"AddNote"},o.a.createElement("h2",null,"Create a note"),o.a.createElement(C,{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"note-name-input"},"Name"),o.a.createElement("input",{type:"text",id:"note-name-input",name:"note-name"})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"note-content-input"},"Content"),o.a.createElement("textarea",{id:"note-content-input",name:"note-content"})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"note-folder-select"},"Folder"),o.a.createElement("select",{id:"note-folder-select",name:"note-folder-id"},o.a.createElement("option",{value:null},"..."),e.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.folder_name)}))),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{type:"submit"},"Add note"))))}}]),t}(a.Component);w.contextType=g;n(214);var T=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={notes:[],folders:[]},n.fetchAPI=function(e){return fetch("".concat(S.API_URL).concat(e)).then(function(e){if(e.ok)return e.json()}).then(function(e){return e})},n.deleteNote=function(e){return fetch("".concat(S.API_URL,"notes/").concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(){var t=n.state.notes.filter(function(t){return t.id!==e});n.setState({notes:t})})},n.handleAddFolder=function(e){n.setState({folders:Object(d.a)(n.state.folders).concat([e])})},n.handleAddNote=function(e){n.setState({notes:Object(d.a)(n.state.notes).concat([e])})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchAPI("notes").then(function(t){e.setState({notes:t})}),this.fetchAPI("folders").then(function(t){e.setState({folders:t})})}},{key:"renderNavRoutes",value:function(){return o.a.createElement(o.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return o.a.createElement(v.a,{exact:!0,key:e,path:e,component:k})}),o.a.createElement(v.a,{path:"/note/:noteId",component:x}),o.a.createElement(v.a,{path:"/add-folder",component:x}),o.a.createElement(v.a,{path:"/add-note",component:x}))}},{key:"renderMainRoutes",value:function(){return o.a.createElement(o.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return o.a.createElement(v.a,{exact:!0,key:e,path:e,component:L})}),o.a.createElement(v.a,{path:"/note/:noteId",component:I}),o.a.createElement(v.a,{path:"/add-folder",component:M}),o.a.createElement(v.a,{path:"/add-note",component:w}))}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,addFolder:this.handleAddFolder,addNote:this.handleAddNote,deleteNote:this.deleteNote};return o.a.createElement(g.Provider,{value:e},o.a.createElement("div",{className:"App"},o.a.createElement("nav",{className:"App__nav"},this.state.notes.length>0&&this.state.folders.length>0?this.renderNavRoutes():"Loading..."),o.a.createElement("header",{className:"App__header"},o.a.createElement("h1",null,o.a.createElement(N.a,{to:"/"},"Noteful")," ",o.a.createElement(b.a,{icon:"check-double"}))),o.a.createElement("main",{className:"App__main"},this.state.notes.length>0&&this.state.folders.length>0?this.renderMainRoutes():"Loading")))}}]),t}(a.Component);l.b.add(i.c,i.b,i.d,i.a),c.a.render(o.a.createElement(s.a,null,o.a.createElement(T,null)),document.getElementById("root"))},81:function(e,t,n){e.exports=n(216)},88:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){},98:function(e,t,n){}},[[81,2,1]]]);
//# sourceMappingURL=main.9b67b296.chunk.js.map